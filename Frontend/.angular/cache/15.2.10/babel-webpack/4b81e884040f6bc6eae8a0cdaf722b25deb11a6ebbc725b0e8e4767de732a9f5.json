{"ast":null,"code":"import { Account } from \"../../../model/Account\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../service/account-service\";\nexport class MyAccountView {\n  constructor(accountService) {\n    this.accountService = accountService;\n    this.user = new Account();\n  }\n  ngOnInit() {\n    // @ts-ignore\n    this.user = JSON.parse(window.sessionStorage.getItem('MCQuser'));\n  }\n  update() {\n    // @ts-ignore\n    document.getElementById(\"emailId\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"phone\").removeAttribute('style');\n    let emailId = document.getElementById(\"emailId\").value;\n    let phone = document.getElementById(\"phone\").value;\n    if (emailId == null || emailId == '') {\n      // @ts-ignore\n      document.getElementById(\"emailId\").style.borderColor = 'red';\n    } else if (phone == null || phone == '') {\n      // @ts-ignore\n      document.getElementById(\"phone\").style.borderColor = 'red';\n    } else {\n      this.accountService.updateAccount(this.user.id, emailId, phone).subscribe(data => {\n        console.log(data);\n        if (data == 'success') {\n          this.user.emailId = emailId;\n          this.user.phone = phone;\n          window.sessionStorage.setItem(\"MCQuser\", JSON.stringify(this.user));\n          window.location.href = this.user.role + \"/updateAccount/successful\";\n        } else {\n          window.location.href = this.user.role + \"/updateAccount/\" + data;\n        }\n      }, error => {\n        window.location.href = this.user.role + \"/updateAccount/\" + error.message;\n      });\n    }\n  }\n  static #_ = this.ɵfac = function MyAccountView_Factory(t) {\n    return new (t || MyAccountView)(i0.ɵɵdirectiveInject(i1.AccountService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: MyAccountView,\n    selectors: [[\"app-my-account-view\"]],\n    decls: 26,\n    vars: 4,\n    consts: [[1, \"modal-content\", \"container\", \"mt-5\", 2, \"width\", \"600px\"], [2, \"text-align\", \"center\", \"margin\", \"20px 0 5px\"], [1, \"row\", \"mt-2\"], [1, \"col-6\"], [\"type\", \"text\", \"name\", \"userName\", \"id\", \"userName\", \"readonly\", \"\", 3, \"value\"], [\"type\", \"text\", \"name\", \"role\", \"id\", \"role\", \"readonly\", \"\", 3, \"value\"], [\"type\", \"text\", \"name\", \"emailId\", \"id\", \"emailId\", \"placeholder\", \"Email ID\", \"required\", \"\", 3, \"value\"], [\"type\", \"text\", \"name\", \"phone\", \"id\", \"phone\", \"placeholder\", \"Phone Number\", \"required\", \"\", 3, \"value\"], [1, \"row\", \"justify-content-end\"], [1, \"col-3\"], [\"type\", \"button\", 3, \"click\"]],\n    template: function MyAccountView_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"My Account\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"label\")(6, \"b\");\n        i0.ɵɵtext(7, \"User Name\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(8, \"input\", 4);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(9, \"div\", 3)(10, \"label\")(11, \"b\");\n        i0.ɵɵtext(12, \"Account Type\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(13, \"input\", 5);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(14, \"label\")(15, \"b\");\n        i0.ɵɵtext(16, \"Email Id\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(17, \"input\", 6);\n        i0.ɵɵelementStart(18, \"label\")(19, \"b\");\n        i0.ɵɵtext(20, \"Phone Number\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(21, \"input\", 7);\n        i0.ɵɵelementStart(22, \"div\", 8)(23, \"div\", 9)(24, \"button\", 10);\n        i0.ɵɵlistener(\"click\", function MyAccountView_Template_button_click_24_listener() {\n          return ctx.update();\n        });\n        i0.ɵɵtext(25, \"Update\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(8);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.user.userName);\n        i0.ɵɵadvance(5);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.user.role);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.user.emailId);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.user.phone);\n      }\n    },\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Account","MyAccountView","constructor","accountService","ngOnInit","user","JSON","parse","window","sessionStorage","getItem","update","document","getElementById","removeAttribute","emailId","value","phone","style","borderColor","updateAccount","id","subscribe","data","console","log","setItem","stringify","location","href","role","error","message","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/namcuong757/eclipse-workspace/CRM-Project/Frontend/src/app/view/commonView/myAccountView/myAccountView.ts","/Users/namcuong757/eclipse-workspace/CRM-Project/Frontend/src/app/view/commonView/myAccountView/myAccountView.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {Account} from \"../../../model/Account\";\nimport {AccountService} from \"../../../service/account-service\";\n\n@Component({\n  selector: 'app-my-account-view',\n  templateUrl: './myAccountView.html',\n  styleUrls: ['./myAccountView.css']\n})\nexport class MyAccountView implements OnInit\n{\n\n  user:Account = new Account();\n\n  constructor(private accountService:AccountService)\n  {\n  }\n\n  ngOnInit(): void\n  {\n    // @ts-ignore\n    this.user = JSON.parse( window.sessionStorage.getItem('MCQuser') );\n  }\n\n  update()\n  {\n    // @ts-ignore\n    document.getElementById(\"emailId\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"phone\"  ).removeAttribute('style');\n\n    let emailId = (document.getElementById(\"emailId\" ) as HTMLInputElement).value;\n    let phone   = (document.getElementById(\"phone\"   ) as HTMLInputElement).value;\n    if( emailId == null || emailId == '')\n    {\n      // @ts-ignore\n      document.getElementById(\"emailId\").style.borderColor = 'red';\n    }\n    else if( phone == null || phone == '')\n    {\n      // @ts-ignore\n      document.getElementById(\"phone\").style.borderColor = 'red';\n    }\n    else\n    {\n      this.accountService.updateAccount(this.user.id, emailId, phone)\n        .subscribe(\n          data   =>\n          {\n            console.log(data)\n            if(data == 'success')\n            {\n              this.user.emailId = emailId;\n              this.user.phone = phone;\n              window.sessionStorage.setItem(\"MCQuser\", JSON.stringify(this.user));\n              window.location.href = this.user.role + \"/updateAccount/successful\";\n            }\n            else\n            {\n              window.location.href = this.user.role + \"/updateAccount/\" + data;\n            }\n          },\n          error =>\n          {\n            window.location.href = this.user.role + \"/updateAccount/\" + error.message;\n          })\n    }\n  }\n\n}\n","<div class=\"modal-content container mt-5\" style=\"width: 600px\">\n  <h2 style=\"text-align:center;margin:20px 0 5px;\">My Account</h2>\n\n  <div class=\"row mt-2\">\n    <div class=\"col-6\">\n      <label><b>User Name</b></label>\n      <input type=\"text\" name=\"userName\" id=\"userName\" value=\"{{user.userName}}\" readonly>\n    </div>\n    <div class=\"col-6\">\n      <label><b>Account Type</b></label>\n      <input type=\"text\" name=\"role\" id=\"role\" value=\"{{user.role}}\" readonly>\n    </div>\n  </div>\n\n  <label><b>Email Id</b></label>\n  <input type=\"text\" name=\"emailId\" id=\"emailId\" placeholder=\"Email ID\" value=\"{{user.emailId}}\" required>\n\n  <label><b>Phone Number</b></label>\n  <input type=\"text\" name=\"phone\"   id=\"phone\"   placeholder=\"Phone Number\"  value=\"{{user.phone}}\" required>\n\n  <div class=\"row justify-content-end\">\n    <div class=\"col-3\">\n      <button type=\"button\" (click)=\"update()\">Update</button>\n    </div>\n  </div>\n\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}