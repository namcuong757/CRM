{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet UserTakeTestView = class UserTakeTestView {\n  constructor(router, cdRef) {\n    this.router = router;\n    this.cdRef = cdRef;\n    this.startTest = false;\n    this.currentQuestion = null;\n    this.currentQuestionIndex = -1;\n    this.questionList = [];\n    this.selectedAnswers = [];\n    this.correctAnswers = 0;\n    this.setId = -1;\n    // Timer var\n    this.remainingTime = 20 * 60; // 20 minutes in seconds\n    this.minutes = 0;\n    this.seconds = 0;\n    this.finishTest = false;\n    let question = {\n      questionId: 1,\n      question: \"Char* string = 'Hello world';\\nprintf(\\\"%d\\\", sizeof(string))\",\n      answers: ['A. 4', 'B. 8', 'C. 2', 'D. I don\\'t known'],\n      correctAnswer: ['D. I don\\'t known']\n    };\n    let question1 = {\n      questionId: 1,\n      question: \"How many data type are there in JavaScript)\",\n      answers: ['A. 4', 'B. 8', 'C. 2', 'D. I don\\'t known'],\n      correctAnswer: ['D. I don\\'t known']\n    };\n    this.questionList = [question, question1, question, question1];\n  }\n  ngOnInit() {\n    this.setId = this.router.snapshot.params['tid'];\n  }\n  startButton() {\n    this.startTest = true;\n    this.currentQuestionIndex = 0;\n    this.currentQuestion = this.questionList[0];\n    this.updateDisplay();\n    this.startTimer();\n  }\n  nextButton() {\n    this.currentQuestionIndex++;\n    if (this.currentQuestionIndex >= this.questionList.length) {\n      this.currentQuestionIndex = this.questionList.length - 1;\n    }\n    this.currentQuestion = this.questionList[this.currentQuestionIndex];\n    this.cdRef.detectChanges();\n  }\n  previousButton() {\n    this.currentQuestionIndex--;\n    if (this.currentQuestionIndex <= -1) {\n      this.currentQuestionIndex = 0;\n    }\n    this.currentQuestion = this.questionList[this.currentQuestionIndex];\n    this.cdRef.detectChanges();\n  }\n  captureAnswer(event, questionIndex) {\n    this.selectedAnswers[questionIndex] = event.target.value;\n  }\n  checkAnswer() {\n    this.finishTest = false;\n    for (let i = 0; i <= this.questionList.length; i++) {\n      if (this.questionList[i] == this.selectedAnswers[i]) {\n        this.correctAnswers++;\n      }\n    }\n  }\n  startTimer() {\n    this.timerInterval = setInterval(() => {\n      if (this.remainingTime > 0) {\n        this.remainingTime--;\n        this.updateDisplay();\n      } else {\n        clearInterval(this.timerInterval);\n        // Logic when timer reaches 0, e.g., submit test automatically\n      }\n    }, 1000);\n  }\n  updateDisplay() {\n    this.minutes = Math.floor(this.remainingTime / 60);\n    this.seconds = this.remainingTime % 60;\n  }\n  ngOnDestroy() {\n    clearInterval(this.timerInterval); // Clear the interval when component is destroyed\n  }\n};\n\nUserTakeTestView = __decorate([Component({\n  selector: 'app-user-question-list-view',\n  templateUrl: './userTakeTestView.html',\n  styleUrls: ['./userTakeTestView.css']\n})], UserTakeTestView);\nexport { UserTakeTestView };","map":{"version":3,"mappings":"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","names":["Component","UserTakeTestView","constructor","router","cdRef","question","questionId","answers","correctAnswer","question1","questionList","ngOnInit","setId","snapshot","params","startButton","startTest","currentQuestionIndex","currentQuestion","updateDisplay","startTimer","nextButton","length","detectChanges","previousButton","captureAnswer","event","questionIndex","selectedAnswers","target","value","checkAnswer","finishTest","i","correctAnswers","timerInterval","setInterval","remainingTime","clearInterval","minutes","Math","floor","seconds","ngOnDestroy","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/namcuong757/eclipse-workspace/CRM-Project/Frontend/src/app/view/user/userTakeTestView/userTakeTestView.ts"],"sourcesContent":["import {Component, OnInit, ChangeDetectorRef} from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-user-question-list-view',\n  templateUrl: './userTakeTestView.html',\n  styleUrls: ['./userTakeTestView.css']\n})\nexport class UserTakeTestView implements OnInit\n{\n  startTest:boolean = false;\n  currentQuestion:any = null;\n  currentQuestionIndex:number = -1;\n  questionList:any = [];\n  selectedAnswers: string[] = [];\n  correctAnswers:number = 0;\n  setId:number = -1;\n  // Timer var\n  remainingTime: number = 20 * 60; // 20 minutes in seconds\n  timerInterval: any;\n  minutes: number = 0;\n  seconds: number = 0;\n  finishTest:boolean = false;\n\n  constructor(private router:ActivatedRoute, private cdRef:ChangeDetectorRef )\n  {\n    let question = {questionId:1, question:\"Char* string = 'Hello world';\\nprintf(\\\"%d\\\", sizeof(string))\",\n      answers:['A. 4', 'B. 8', 'C. 2', 'D. I don\\'t known'], correctAnswer:['D. I don\\'t known']}\n    let question1 = {questionId:1, question:\"How many data type are there in JavaScript)\",\n      answers:['A. 4', 'B. 8', 'C. 2', 'D. I don\\'t known'], correctAnswer:['D. I don\\'t known']}\n      this.questionList = [question,question1,question,question1] ;\n  }\n\n  ngOnInit(): void\n  {\n    this.setId = this.router.snapshot.params['tid'];\n  }\n\n  startButton()\n  {\n    this.startTest = true;\n    this.currentQuestionIndex = 0;\n    this.currentQuestion = this.questionList[0];\n    this.updateDisplay();\n    this.startTimer();\n\n  }\n  nextButton()\n  {\n    this.currentQuestionIndex++;\n    if(this.currentQuestionIndex >= this.questionList.length)\n    {\n      this.currentQuestionIndex = this.questionList.length - 1;\n    }\n    this.currentQuestion = this.questionList[this.currentQuestionIndex];\n    this.cdRef.detectChanges();\n  }\n\n  previousButton()\n  {\n    this.currentQuestionIndex--;\n    if(this.currentQuestionIndex <= -1)\n    {\n      this.currentQuestionIndex = 0;\n    }\n    this.currentQuestion = this.questionList[this.currentQuestionIndex];\n    this.cdRef.detectChanges();\n  }\n  captureAnswer(event: any, questionIndex: number)\n  {\n    this.selectedAnswers[questionIndex] = event.target.value;\n  }\n  checkAnswer()\n  {\n    this.finishTest = false;\n    for(let i = 0; i <= this.questionList.length; i++)\n    {\n      if(this.questionList[i] == this.selectedAnswers[i])\n      {\n        this.correctAnswers++;\n      }\n    }\n  }\n  startTimer() {\n    this.timerInterval = setInterval(() => {\n      if (this.remainingTime > 0) {\n        this.remainingTime--;\n        this.updateDisplay();\n      } else {\n        clearInterval(this.timerInterval);\n        // Logic when timer reaches 0, e.g., submit test automatically\n      }\n    }, 1000);\n  }\n  updateDisplay()\n  {\n    this.minutes = Math.floor(this.remainingTime / 60);\n    this.seconds = this.remainingTime % 60;\n  }\n  ngOnDestroy() \n  {\n    clearInterval(this.timerInterval); // Clear the interval when component is destroyed\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}