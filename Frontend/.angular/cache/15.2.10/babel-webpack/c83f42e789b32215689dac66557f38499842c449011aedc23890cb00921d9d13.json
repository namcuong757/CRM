{"ast":null,"code":"import { Account } from \"../../../model/Account\";\nimport { Test } from \"../../../model/Test\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../service/test-service\";\nimport * as i2 from \"../../../service/topic-service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../jumpPage/jumpPage\";\nfunction AdminManageTestListView_div_1_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 23)(1, \"div\", 24);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 25);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 25);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 26);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 24)(10, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function AdminManageTestListView_div_1_div_28_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r10);\n      const test_r8 = restoredCtx.$implicit;\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.showTestDetail(test_r8));\n    });\n    i0.ɵɵtext(11, \"->\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const test_r8 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(test_r8.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(test_r8.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(test_r8.topic);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(test_r8.level);\n  }\n}\nfunction AdminManageTestListView_div_1_div_30_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const topic_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(topic_r12.topic);\n  }\n}\nfunction AdminManageTestListView_div_1_div_30_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 28)(1, \"label\")(2, \"b\");\n    i0.ɵɵtext(3, \"Topic\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(4, \"input\", 29);\n    i0.ɵɵelementStart(5, \"datalist\", 30);\n    i0.ɵɵtemplate(6, AdminManageTestListView_div_1_div_30_option_6_Template, 2, 1, \"option\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"label\")(8, \"b\");\n    i0.ɵɵtext(9, \"Test Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(10, \"input\", 32);\n    i0.ɵɵelementStart(11, \"label\")(12, \"b\");\n    i0.ɵɵtext(13, \"Level\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(14, \"input\", 33);\n    i0.ɵɵelementStart(15, \"div\", 34)(16, \"div\", 14)(17, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function AdminManageTestListView_div_1_div_30_Template_button_click_17_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r13.showDeleteConfirm());\n    });\n    i0.ɵɵtext(18, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(19, \"div\", 14)(20, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function AdminManageTestListView_div_1_div_30_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r15.updateTest());\n    });\n    i0.ɵɵtext(21, \"Update\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(22, \"div\", 14)(23, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function AdminManageTestListView_div_1_div_30_Template_button_click_23_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.testView());\n    });\n    i0.ɵɵtext(24, \"View\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r6.currentTest.topic);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r6.topicList);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r6.currentTest.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r6.currentTest.level);\n  }\n}\nfunction AdminManageTestListView_div_1_div_31_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"h1\", 39);\n    i0.ɵɵtext(2, \"No Data\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdminManageTestListView_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"div\", 5)(3, \"div\", 6)(4, \"div\", 7);\n    i0.ɵɵtext(5, \"id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 8);\n    i0.ɵɵtext(7, \"Test Name\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 8);\n    i0.ɵɵtext(9, \"Topic\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 9);\n    i0.ɵɵtext(11, \"Level\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 7)(13, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function AdminManageTestListView_div_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.showAddTest());\n    });\n    i0.ɵɵtext(14, \"+\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(15, \"div\", 11)(16, \"div\", 12);\n    i0.ɵɵelement(17, \"input\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 14);\n    i0.ɵɵelement(19, \"input\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"div\", 14);\n    i0.ɵɵelement(21, \"input\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"div\", 17);\n    i0.ɵɵelement(23, \"input\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 12)(25, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function AdminManageTestListView_div_1_Template_button_click_25_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r19 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r19.filter());\n    });\n    i0.ɵɵtext(26, \"Filter\");\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵelementStart(27, \"div\", 19);\n    i0.ɵɵtemplate(28, AdminManageTestListView_div_1_div_28_Template, 12, 4, \"div\", 20);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"div\", 14);\n    i0.ɵɵtemplate(30, AdminManageTestListView_div_1_div_30_Template, 25, 4, \"div\", 21);\n    i0.ɵɵtemplate(31, AdminManageTestListView_div_1_div_31_Template, 3, 0, \"div\", 22);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(17);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r0.filterTest.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r0.filterTest.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r0.filterTest.topic);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r0.filterTest.level);\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.currentTestList);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentTest.id > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentTest.id <= 0);\n  }\n}\nfunction AdminManageTestListView_div_2_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const topic_r21 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(topic_r21.topic);\n  }\n}\nfunction AdminManageTestListView_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 40)(2, \"div\", 3)(3, \"div\", 26)(4, \"button\", 41);\n    i0.ɵɵlistener(\"click\", function AdminManageTestListView_div_2_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r22.closeAddTest());\n    });\n    i0.ɵɵtext(5, \"Back\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 42)(7, \"h2\", 43);\n    i0.ɵɵtext(8, \"Add New Test\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 44)(10, \"label\")(11, \"b\");\n    i0.ɵɵtext(12, \"Topic\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(13, \"input\", 45);\n    i0.ɵɵelementStart(14, \"datalist\", 46);\n    i0.ɵɵtemplate(15, AdminManageTestListView_div_2_option_15_Template, 2, 1, \"option\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"label\")(17, \"b\");\n    i0.ɵɵtext(18, \"Test Name\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(19, \"input\", 47);\n    i0.ɵɵelementStart(20, \"label\")(21, \"b\");\n    i0.ɵɵtext(22, \"Level\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(23, \"input\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"div\", 34)(25, \"div\", 49)(26, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function AdminManageTestListView_div_2_Template_button_click_26_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.addNewTest());\n    });\n    i0.ɵɵtext(27, \"Submit\");\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.newTest.topic);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.topicList);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.newTest.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r1.newTest.level);\n  }\n}\nfunction AdminManageTestListView_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 40)(2, \"div\", 50)(3, \"label\", 51)(4, \"b\");\n    i0.ɵɵtext(5, \"Are You Sure To Delete This Test?\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 3)(7, \"div\", 52)(8, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function AdminManageTestListView_div_3_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r25.deleteTest());\n    });\n    i0.ɵɵtext(9, \"Yes\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 52)(11, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function AdminManageTestListView_div_3_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r27 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r27.closeDeleteConfirm());\n    });\n    i0.ɵɵtext(12, \"No\");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\nfunction AdminManageTestListView_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 40)(2, \"div\", 50)(3, \"label\", 51)(4, \"b\");\n    i0.ɵɵtext(5, \"Create Test Successful\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"label\", 51)(7, \"b\");\n    i0.ɵɵtext(8, \"Do You Want to Add Question to This Test?\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 3)(10, \"div\", 52)(11, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function AdminManageTestListView_div_4_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r28 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r28.testView());\n    });\n    i0.ɵɵtext(12, \"Yes\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 52)(14, \"button\", 35);\n    i0.ɵɵlistener(\"click\", function AdminManageTestListView_div_4_Template_button_click_14_listener() {\n      i0.ɵɵrestoreView(_r29);\n      const ctx_r30 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r30.closeNewTestView());\n    });\n    i0.ɵɵtext(15, \"No\");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\nfunction AdminManageTestListView_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-jump-page\", 53);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"message\", ctx_r4.message)(\"error\", ctx_r4.error);\n  }\n}\nexport class AdminManageTestListView {\n  constructor(testService, topicService) {\n    this.testService = testService;\n    this.topicService = topicService;\n    this.user = new Account();\n    this.topicList = new Array();\n    this.currentTestList = new Array();\n    this.allTestList = new Array();\n    this.currentTest = new Test();\n    this.newTest = new Test();\n    this.filterTest = new Test();\n    this.message = '';\n    this.error = '';\n    this.showAddTestView = false;\n    this.showDeleteConfirmView = false;\n    this.showNewTestView = false;\n    this.showMessageView = false;\n  }\n  ngOnInit() {\n    // @ts-ignore\n    this.user = JSON.parse(window.sessionStorage.getItem('MCQuser'));\n    this.testService.getAllTest().subscribe(data => {\n      this.currentTestList = data;\n      this.allTestList = data;\n    });\n    this.topicService.getAllTopic().subscribe(data => {\n      this.topicList = data;\n    });\n  }\n  filter() {\n    this.filterTest.id = Number(document.getElementById(\"fitlerId\").value);\n    this.filterTest.name = document.getElementById(\"fitlerName\").value;\n    this.filterTest.topic = document.getElementById(\"fitlerTopic\").value;\n    this.filterTest.level = Number(document.getElementById(\"fitlerLevel\").value);\n    this.currentTestList = this.allTestList.filter(e => {\n      if (this.filterTest.id > 0 && e.id != this.filterTest.id) {\n        return false;\n      }\n      if (this.filterTest.name != '' && e.name.search(this.filterTest.name) == -1) {\n        return false;\n      }\n      if (this.filterTest.topic != '' && e.topic.search(this.filterTest.topic) == -1) {\n        return false;\n      }\n      if (this.filterTest.level != -1 && e.level != this.filterTest.level) {\n        return false;\n      }\n      return true;\n    });\n  }\n  reload() {\n    this.testService.getAllTest().subscribe(data => {\n      this.allTestList = data;\n      this.currentTestList = this.allTestList.filter(e => {\n        if (this.filterTest.id > 0 && e.id != this.filterTest.id) {\n          return false;\n        }\n        if (this.filterTest.name != '' && e.name.search(this.filterTest.name) == -1) {\n          return false;\n        }\n        if (this.filterTest.topic != '' && e.topic.search(this.filterTest.topic) == -1) {\n          return false;\n        }\n        if (this.filterTest.level != -1 && e.level != this.filterTest.level) {\n          return false;\n        }\n        return true;\n      });\n    });\n  }\n  showTestDetail(test) {\n    this.currentTest = test;\n  }\n  /***************************** CREATE TEST ******************************/\n  showAddTest() {\n    this.showAddTestView = true;\n  }\n  closeAddTest() {\n    this.newTest = new Test();\n    // @ts-ignore\n    document.getElementById(\"newTopic\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"newName\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"newLevel\").removeAttribute('style');\n    this.showAddTestView = false;\n  }\n  addNewTest() {\n    // @ts-ignore\n    document.getElementById(\"newTopic\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"newName\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"newLevel\").removeAttribute('style');\n    this.newTest.topic = document.getElementById(\"newTopic\").value;\n    let level = document.getElementById(\"newLevel\").value;\n    this.newTest.name = document.getElementById(\"newName\").value;\n    if (this.newTest.topic == '') {\n      // @ts-ignore\n      document.getElementById(\"newTopic\").style.borderColor = 'red';\n    } else if (this.newTest.name == '') {\n      // @ts-ignore\n      document.getElementById(\"newName\").style.borderColor = 'red';\n    } else if (level == '') {\n      // @ts-ignore\n      document.getElementById(\"newLevel\").style.borderColor = 'red';\n    } else {\n      this.newTest.level = parseInt(level);\n      this.testService.addNewTest(this.newTest).subscribe(data => {\n        if (data != null) {\n          this.reload();\n          this.newTest = new Test();\n          this.currentTest = new Test();\n          this.showAddTestView = false;\n          this.showNewTestView = true;\n        } else {\n          this.jumpWindow(\"Create Test Failed\", data);\n        }\n      }, error => {\n        this.jumpWindow(\"Create Test Failed\", error.message);\n      });\n    }\n  }\n  /***************************** DELETE TEST ******************************/\n  showDeleteConfirm() {\n    this.showDeleteConfirmView = true;\n  }\n  closeDeleteConfirm() {\n    this.showDeleteConfirmView = false;\n  }\n  deleteTest() {\n    this.testService.deleteTest(this.currentTest.id).subscribe(data => {\n      console.log(data);\n      if (data == 'success') {\n        this.reload();\n        this.currentTest = new Test();\n        this.showDeleteConfirmView = false;\n        this.jumpWindow(\"Delete Test Successful\", '');\n      } else {\n        this.showDeleteConfirmView = false;\n        this.jumpWindow(\"Delete Test Failed\", data);\n      }\n    }, error => {\n      this.showDeleteConfirmView = false;\n      this.jumpWindow(\"Delete Test Failed\", error.message);\n    });\n  }\n  /***************************** UPDATE TEST ******************************/\n  updateTest() {\n    // @ts-ignore\n    document.getElementById(\"topic\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"name\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"level\").removeAttribute('style');\n    this.currentTest.topic = document.getElementById(\"topic\").value;\n    let level = document.getElementById(\"level\").value;\n    this.currentTest.name = document.getElementById(\"name\").value;\n    if (this.currentTest.topic == '') {\n      // @ts-ignore\n      document.getElementById(\"topic\").style.borderColor = 'red';\n    } else if (this.currentTest.name == '') {\n      // @ts-ignore\n      document.getElementById(\"name\").style.borderColor = 'red';\n    } else if (level == '') {\n      // @ts-ignore\n      document.getElementById(\"level\").style.borderColor = 'red';\n    } else {\n      this.currentTest.level = parseInt(level);\n      this.testService.updateTest(this.currentTest).subscribe(data => {\n        if (data == 'success') {\n          this.reload();\n          this.jumpWindow(\"Update Test Successful\", '');\n        } else {\n          this.jumpWindow(\"Update Test Failed\", data);\n        }\n      }, error => {\n        this.jumpWindow(\"Update Test Failed\", error.message);\n      });\n    }\n  }\n  /*************************** JUMP TO TEST VIEW ***************************/\n  closeNewTestView() {\n    this.reload();\n    this.showNewTestView = false;\n  }\n  testView() {\n    window.open(this.user.role + \"/test/\" + this.currentTest.id);\n    this.reload();\n    this.showNewTestView = false;\n  }\n  /***************************** Massage View *****************************/\n  jumpWindow(message, error) {\n    this.message = message;\n    this.error = error;\n    this.showMessageView = true;\n    setTimeout(() => {\n      this.showMessageView = false;\n    }, 5000);\n  }\n  static #_ = this.ɵfac = function AdminManageTestListView_Factory(t) {\n    return new (t || AdminManageTestListView)(i0.ɵɵdirectiveInject(i1.TestService), i0.ɵɵdirectiveInject(i2.TopicService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminManageTestListView,\n    selectors: [[\"app-admin-manage-test-list-view\"]],\n    decls: 6,\n    vars: 5,\n    consts: [[1, \"container\"], [\"class\", \"row\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"row\"], [1, \"col-8\"], [1, \"card\", \"bg-secondary-subtle\", \"mt-2\", 2, \"width\", \"850px\", \"height\", \"73px\"], [1, \"row\", \"mt-1\", \"ms-0\", \"me-0\", 2, \"height\", \"32px\"], [1, \"h5\", \"col-1\", \"text-center\"], [1, \"h5\", \"col-4\", \"text-center\"], [1, \"h5\", \"col-2\", \"text-center\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", \"px-0\", \"mt-0\", 3, \"click\"], [1, \"row\", \"mt-0\", \"ms-0\", \"me-0\", 2, \"height\", \"32px\"], [1, \"col-1\"], [\"type\", \"number\", \"id\", \"fitlerId\", 1, \"form-control\", \"mt-0\", \"mb-1\", \"pe-0\", 2, \"width\", \"60px\", \"height\", \"32px\", 3, \"value\"], [1, \"col-4\"], [\"type\", \"text\", \"id\", \"fitlerName\", 1, \"form-control\", \"mt-0\", \"mb-1\", 2, \"height\", \"32px\", 3, \"value\"], [\"type\", \"text\", \"id\", \"fitlerTopic\", 1, \"form-control\", \"mt-0\", \"mb-1\", 2, \"height\", \"32px\", 3, \"value\"], [1, \"col-2\"], [\"type\", \"number\", \"id\", \"fitlerLevel\", 1, \"form-control\", \"mt-0\", \"mb-1\", 2, \"height\", \"32px\", 3, \"value\"], [1, \"card\", \"mt-2\", 2, \"width\", \"850px\", \"height\", \"440px\", \"overflow\", \"auto\"], [\"class\", \"row border-bottom\", \"style\", \"height: 32px;\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"modal-content container mt-3\", \"style\", \"width: 400px;height:360px\", 4, \"ngIf\"], [\"class\", \"modal-content container mt-3 text-center\", \"style\", \"width: 400px;height:360px\", 4, \"ngIf\"], [1, \"row\", \"border-bottom\", 2, \"height\", \"32px\"], [1, \"col-1\", \"text-center\"], [1, \"col-4\", \"text-center\"], [1, \"col-2\", \"text-center\"], [1, \"btn\", \"btn-sm\", \"btn-outline-primary\", \"px-0\", \"mt-0\", 3, \"click\"], [1, \"modal-content\", \"container\", \"mt-3\", 2, \"width\", \"400px\", \"height\", \"360px\"], [\"type\", \"text\", \"id\", \"topic\", \"list\", \"topiclist\", \"required\", \"\", 3, \"value\"], [\"id\", \"topiclist\"], [4, \"ngFor\", \"ngForOf\"], [\"type\", \"text\", \"id\", \"name\", \"required\", \"\", 3, \"value\"], [\"type\", \"text\", \"id\", \"level\", \"required\", \"\", 3, \"value\"], [1, \"row\", \"justify-content-end\"], [\"type\", \"button\", 2, \"background-color\", \"#C44336\", 3, \"click\"], [\"type\", \"button\", 3, \"click\"], [\"type\", \"button\", 2, \"background-color\", \"#095099\", 3, \"click\"], [1, \"modal-content\", \"container\", \"mt-3\", \"text-center\", 2, \"width\", \"400px\", \"height\", \"360px\"], [1, \"text-secondary\", \"mt-5\"], [1, \"modal-content\", \"animate\", \"container\", \"mt-2\", 2, \"width\", \"600px\"], [3, \"click\"], [1, \"col-8\", \"text-center\"], [2, \"text-align\", \"center\", \"margin\", \"20px 0 5px\"], [1, \"row\", \"mt-4\"], [\"id\", \"newTopic\", \"type\", \"text\", \"list\", \"newTopiclist\", \"required\", \"\", 3, \"value\"], [\"id\", \"newTopiclist\"], [\"type\", \"text\", \"id\", \"newName\", \"required\", \"\", 3, \"value\"], [\"type\", \"number\", \"id\", \"newLevel\", \"required\", \"\", 3, \"value\"], [1, \"col-3\"], [1, \"row\", \"text-center\", \"m-4\"], [1, \"h3\"], [1, \"col-6\"], [3, \"message\", \"error\"]],\n    template: function AdminManageTestListView_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, AdminManageTestListView_div_1_Template, 32, 7, \"div\", 1);\n        i0.ɵɵtemplate(2, AdminManageTestListView_div_2_Template, 28, 4, \"div\", 1);\n        i0.ɵɵtemplate(3, AdminManageTestListView_div_3_Template, 13, 0, \"div\", 1);\n        i0.ɵɵtemplate(4, AdminManageTestListView_div_4_Template, 16, 0, \"div\", 1);\n        i0.ɵɵtemplate(5, AdminManageTestListView_div_5_Template, 2, 2, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showAddTestView == false && ctx.showDeleteConfirmView == false && ctx.showNewTestView == false && ctx.showMessageView == false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showAddTestView == true && ctx.showMessageView == false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showDeleteConfirmView == true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showNewTestView == true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showMessageView == true);\n      }\n    },\n    dependencies: [i3.NgForOf, i3.NgIf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i5.JumpPage],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"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","names":["Account","Test","i0","AdminManageTestListView","constructor","testService","topicService","Array","ngOnInit","user","JSON","parse","window","sessionStorage","getItem","getAllTest","subscribe","data","currentTestList","allTestList","getAllTopic","topicList","filter","filterTest","id","Number","document","getElementById","value","name","topic","level","e","search","reload","showTestDetail","test","currentTest","showAddTest","showAddTestView","closeAddTest","newTest","removeAttribute","addNewTest","style","borderColor","parseInt","showNewTestView","jumpWindow","error","message","showDeleteConfirm","showDeleteConfirmView","closeDeleteConfirm","deleteTest","console","log","updateTest","closeNewTestView","testView","open","role","showMessageView","setTimeout","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/namcuong757/eclipse-workspace/CRM-Project/Frontend/src/app/view/admin/adminManageTestListView/adminManageTestListView.ts","/Users/namcuong757/eclipse-workspace/CRM-Project/Frontend/src/app/view/admin/adminManageTestListView/adminManageTestListView.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport {Account} from \"../../../model/Account\";\nimport {Topic} from \"../../../model/Topic\";\nimport {TestService} from \"../../../service/test-service\";\nimport {Test} from \"../../../model/Test\";\nimport {TopicService} from \"../../../service/topic-service\";\n\n@Component({\n  selector: 'app-admin-manage-test-list-view',\n  templateUrl: './adminManageTestListView.html',\n  styleUrls: ['./adminManageTestListView.css']\n})\nexport class AdminManageTestListView\n{\n  user:Account = new Account();\n  topicList:Topic[] = new Array();\n  currentTestList:Test[] = new Array();\n  allTestList:Test[] = new Array();\n  currentTest:Test = new Test();\n  newTest:Test = new Test();\n  filterTest:Test = new Test();\n\n  message:string = '';\n  error:string = '';\n\n  showAddTestView:boolean = false;\n  showDeleteConfirmView:boolean = false;\n  showNewTestView:boolean = false;\n  showMessageView:boolean = false;\n\n  constructor(private testService:TestService, private topicService:TopicService)\n  {\n  }\n  ngOnInit(): void\n  {\n    // @ts-ignore\n    this.user = JSON.parse( window.sessionStorage.getItem('MCQuser') );\n\n    this.testService.getAllTest()\n      .subscribe(\n        data =>\n        {\n          this.currentTestList = data;\n          this.allTestList = data;\n        }\n      )\n\n    this.topicService.getAllTopic()\n      .subscribe(\n        data => {this.topicList = data}\n      )\n  }\n\n\n  filter()\n  {\n    this.filterTest.id    = Number((document.getElementById(\"fitlerId\") as HTMLInputElement).value);\n    this.filterTest.name  = (document.getElementById(\"fitlerName\") as HTMLInputElement).value;\n    this.filterTest.topic = (document.getElementById(\"fitlerTopic\") as HTMLInputElement).value;\n    this.filterTest.level = Number((document.getElementById(\"fitlerLevel\") as HTMLInputElement).value);\n\n    this.currentTestList = this.allTestList.filter(e =>\n    { if(this.filterTest.id > 0 && e.id != this.filterTest.id)\n      {\n        return false;\n      }\n      if(this.filterTest.name != '' && e.name.search(this.filterTest.name) == -1)\n      {\n        return false;\n      }\n      if(this.filterTest.topic != '' && e.topic.search(this.filterTest.topic) == -1)\n      {\n        return false;\n      }\n      if(this.filterTest.level != -1 && e.level != this.filterTest.level)\n      {\n        return false;\n      }\n      return true;\n    })\n\n  }\n\n  reload()\n  {\n    this.testService.getAllTest()\n      .subscribe(\n        data =>\n        {\n          this.allTestList = data;\n          this.currentTestList = this.allTestList.filter(e =>\n          { if(this.filterTest.id > 0 && e.id != this.filterTest.id)\n          {\n            return false;\n          }\n            if(this.filterTest.name != '' && e.name.search(this.filterTest.name) == -1)\n            {\n              return false;\n            }\n            if(this.filterTest.topic != '' && e.topic.search(this.filterTest.topic) == -1)\n            {\n              return false;\n            }\n            if(this.filterTest.level != -1 && e.level != this.filterTest.level)\n            {\n              return false;\n            }\n            return true;\n          })\n        }\n      )\n  }\n\n  showTestDetail(test:Test)\n  {\n    this.currentTest = test;\n  }\n\n\n/***************************** CREATE TEST ******************************/\n  showAddTest()\n  {\n    this.showAddTestView = true;\n  }\n\n  closeAddTest()\n  {\n    this.newTest = new Test();\n    // @ts-ignore\n    document.getElementById(\"newTopic\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"newName\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"newLevel\").removeAttribute('style');\n    this.showAddTestView = false;\n  }\n\n  addNewTest() {\n    // @ts-ignore\n    document.getElementById(\"newTopic\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"newName\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"newLevel\").removeAttribute('style');\n\n    this.newTest.topic = (document.getElementById(\"newTopic\") as HTMLInputElement).value;\n    let level = (document.getElementById(\"newLevel\") as HTMLInputElement).value;\n    this.newTest.name = (document.getElementById(\"newName\") as HTMLInputElement).value;\n    if (this.newTest.topic == '') {\n      // @ts-ignore\n      document.getElementById(\"newTopic\").style.borderColor = 'red'\n    } else if (this.newTest.name == '') {\n      // @ts-ignore\n      document.getElementById(\"newName\").style.borderColor = 'red'\n    } else if (level == '') {\n      // @ts-ignore\n      document.getElementById(\"newLevel\").style.borderColor = 'red'\n    }\n    else\n    {\n      this.newTest.level = parseInt(level);\n      this.testService.addNewTest(this.newTest)\n        .subscribe(\n          data =>\n          {\n            if (data != null)\n            {\n              this.reload();\n              this.newTest = new Test();\n              this.currentTest = new Test();\n              this.showAddTestView = false;\n              this.showNewTestView = true;\n            }\n            else\n            {\n              this.jumpWindow(\"Create Test Failed\", data);\n            }\n          },\n          error =>\n          {\n            this.jumpWindow(\"Create Test Failed\", error.message);\n          });\n    }\n  }\n\n/***************************** DELETE TEST ******************************/\n  showDeleteConfirm()\n  {\n    this.showDeleteConfirmView = true;\n  }\n\n  closeDeleteConfirm()\n  {\n    this.showDeleteConfirmView = false;\n  }\n\n  deleteTest()\n  {\n    this.testService.deleteTest(this.currentTest.id)\n      .subscribe(\n        data   =>\n        {\n          console.log(data)\n          if(data == 'success')\n          {\n            this.reload();\n            this.currentTest = new Test();\n            this.showDeleteConfirmView = false;\n            this.jumpWindow(\"Delete Test Successful\", '');\n          }\n          else\n          {\n            this.showDeleteConfirmView = false;\n            this.jumpWindow(\"Delete Test Failed\", data);\n          }\n        },\n        error =>\n        {\n          this.showDeleteConfirmView = false;\n          this.jumpWindow(\"Delete Test Failed\", error.message);\n        }\n      )\n  }\n\n/***************************** UPDATE TEST ******************************/\n  updateTest()\n  {\n    // @ts-ignore\n    document.getElementById(\"topic\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"name\").removeAttribute('style');\n    // @ts-ignore\n    document.getElementById(\"level\").removeAttribute('style');\n\n    this.currentTest.topic = (document.getElementById(\"topic\") as HTMLInputElement).value;\n    let level = (document.getElementById(\"level\") as HTMLInputElement).value;\n    this.currentTest.name = (document.getElementById(\"name\") as HTMLInputElement).value;\n    if (this.currentTest.topic == '') {\n      // @ts-ignore\n      document.getElementById(\"topic\").style.borderColor = 'red'\n    } else if (this.currentTest.name == '') {\n      // @ts-ignore\n      document.getElementById(\"name\").style.borderColor = 'red'\n    } else if (level == '') {\n      // @ts-ignore\n      document.getElementById(\"level\").style.borderColor = 'red'\n    }\n    else\n    {\n      this.currentTest.level = parseInt(level);\n      this.testService.updateTest(this.currentTest)\n        .subscribe(\n          data   =>\n          {\n            if(data == 'success')\n            {\n              this.reload();\n              this.jumpWindow(\"Update Test Successful\", '');\n            }\n            else\n            {\n              this.jumpWindow(\"Update Test Failed\", data);\n            }\n          },\n          error =>\n          {\n            this.jumpWindow(\"Update Test Failed\", error.message);\n          }\n        )\n\n    }\n  }\n\n\n/*************************** JUMP TO TEST VIEW ***************************/\n  closeNewTestView()\n  {\n    this.reload();\n    this.showNewTestView = false;\n  }\n\n  testView()\n  {\n    window.open(this.user.role + \"/test/\" + this.currentTest.id);\n    this.reload();\n    this.showNewTestView = false;\n  }\n\n/***************************** Massage View *****************************/\n  jumpWindow(message:string, error:string)\n  {\n    this.message = message;\n    this.error = error;\n    this.showMessageView = true;\n    setTimeout(()=>\n    {\n      this.showMessageView = false;\n    }, 5000);\n  }\n\n}\n","<div class=\"container\">\n  <div class=\"row\" *ngIf=\"showAddTestView == false && showDeleteConfirmView == false && showNewTestView == false && showMessageView == false\">\n    <div class=\"col-8\">\n      <div class=\" card bg-secondary-subtle mt-2\" style=\"width: 850px; height: 73px\">\n        <div class=\"row mt-1 ms-0 me-0\" style=\"height: 32px;\">\n          <div class=\"h5 col-1 text-center\">id</div>\n          <div class=\"h5 col-4 text-center\">Test Name</div>\n          <div class=\"h5 col-4 text-center\">Topic</div>\n          <div class=\"h5 col-2 text-center\">Level</div>\n          <div class=\"h5 col-1 text-center\"><button class=\"btn btn-sm btn-primary px-0 mt-0\" (click)=\"showAddTest()\">+</button></div>\n        </div>\n        <div class=\"row mt-0 ms-0 me-0\" style=\"height: 32px;\">\n          <div class=\"col-1\"><input class=\"form-control mt-0 mb-1 pe-0\" style=\"width:60px;height: 32px;\" type=\"number\" id=\"fitlerId\"    value=\"{{filterTest.id   }}\"></div>\n          <div class=\"col-4\"><input class=\"form-control mt-0 mb-1\" style=\"height: 32px;\" type=\"text\"   id=\"fitlerName\"  value=\"{{filterTest.name }}\"></div>\n          <div class=\"col-4\"><input class=\"form-control mt-0 mb-1\" style=\"height: 32px;\" type=\"text\"   id=\"fitlerTopic\" value=\"{{filterTest.topic}}\"></div>\n          <div class=\"col-2\"><input class=\"form-control mt-0 mb-1\" style=\"height: 32px;\" type=\"number\" id=\"fitlerLevel\" value=\"{{filterTest.level}}\"></div>\n          <div class=\"col-1\"><button class=\"btn btn-sm btn-primary px-0 mt-0\" (click)=\"filter()\">Filter</button></div>\n        </div>\n      </div>\n      <div class=\" card mt-2\" style=\"width: 850px; height: 440px; overflow: auto\">\n        <div class=\"row border-bottom\" style=\"height: 32px;\" *ngFor=\"let test of currentTestList\">\n          <div class=\"col-1 text-center\">{{test.id}}</div>\n          <div class=\"col-4 text-center\">{{test.name}}</div>\n          <div class=\"col-4 text-center\">{{test.topic}}</div>\n          <div class=\"col-2 text-center\">{{test.level}}</div>\n          <div class=\"col-1 text-center\"><button class=\"btn btn-sm btn-outline-primary px-0 mt-0\" (click)=\"showTestDetail(test)\">-></button></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-4\">\n      <div class=\"modal-content container mt-3\" style=\"width: 400px;height:360px\" *ngIf=\"currentTest.id > 0\">\n        <label><b>Topic</b></label>\n        <input type=\"text\"  id=\"topic\" list=\"topiclist\" value=\"{{currentTest.topic}}\" required>\n        <datalist id=\"topiclist\">\n          <option *ngFor=\"let topic of topicList\">{{topic.topic}}</option>\n        </datalist>\n        <label><b>Test Name</b></label>\n        <input type=\"text\"  id=\"name\"  value=\"{{currentTest.name}}\" required>\n        <label><b>Level</b></label>\n        <input type=\"text\"  id=\"level\" value=\"{{currentTest.level}}\" required>\n        <div class=\"row justify-content-end\">\n          <div class=\"col-4\">\n            <button type=\"button\" style=\"background-color: #C44336\" (click)=\"showDeleteConfirm()\">Delete</button>\n          </div>\n          <div class=\"col-4\">\n            <button type=\"button\" (click)=\"updateTest()\">Update</button>\n          </div>\n          <div class=\"col-4\">\n            <button type=\"button\" style=\"background-color: #095099\" (click)=\"testView()\">View</button>\n          </div>\n        </div>\n      </div>\n      <div class=\"modal-content container mt-3 text-center\" style=\"width: 400px;height:360px\" *ngIf=\"currentTest.id <= 0\">\n        <h1 class=\"text-secondary mt-5\">No Data</h1>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\" *ngIf=\"showAddTestView == true && showMessageView == false\">\n    <div class=\"modal-content animate container mt-2\" style=\"width: 600px\">\n      <div class=\"row\">\n        <div class=\"col-2 text-center\">\n          <button (click)=\"closeAddTest()\">Back</button>\n        </div>\n        <div class=\"col-8 text-center\">\n          <h2 style=\"text-align:center;margin:20px 0 5px;\">Add New Test</h2>\n        </div>\n      </div>\n\n      <div class=\"row mt-4\">\n        <label><b>Topic</b></label>\n        <input id=\"newTopic\" type=\"text\" list=\"newTopiclist\" value=\"{{newTest.topic}}\" required>\n        <datalist id=\"newTopiclist\">\n          <option *ngFor=\"let topic of topicList\">{{topic.topic}}</option>\n        </datalist>\n\n        <label><b>Test Name</b></label>\n        <input type=\"text\"  id=\"newName\"  value=\"{{newTest.name}}\" required>\n        <label><b>Level</b></label>\n        <input type=\"number\" id=\"newLevel\" value=\"{{newTest.level}}\" required>\n      </div>\n\n      <div class=\"row justify-content-end\">\n        <div class=\"col-3\">\n          <button type=\"button\" (click)=\"addNewTest()\">Submit</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\" *ngIf=\"showDeleteConfirmView == true\">\n    <div class=\"modal-content animate container mt-2\" style=\"width: 600px\">\n      <div class=\"row text-center m-4\">\n        <label class=\"h3\"><b>Are You Sure To Delete This Test?</b></label>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-6\">\n          <button type=\"button\" style=\"background-color: #C44336\" (click)=\"deleteTest()\">Yes</button>\n        </div>\n        <div class=\"col-6\">\n          <button type=\"button\" (click)=\"closeDeleteConfirm()\">No</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\" *ngIf=\"showNewTestView == true\">\n    <div class=\"modal-content animate container mt-2\" style=\"width: 600px\">\n      <div class=\"row text-center m-4\">\n        <label class=\"h3\"><b>Create Test Successful</b></label>\n        <label class=\"h3\"><b>Do You Want to Add Question to This Test?</b></label>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-6\">\n          <button type=\"button\" (click)=\"testView()\">Yes</button>\n        </div>\n        <div class=\"col-6\">\n          <button type=\"button\" style=\"background-color: #C44336\" (click)=\"closeNewTestView()\">No</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Message View -->\n  <div *ngIf=\"showMessageView == true\">\n    <app-jump-page [message] = 'message' [error] = 'error'></app-jump-page>\n  </div>\n\n\n\n\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}