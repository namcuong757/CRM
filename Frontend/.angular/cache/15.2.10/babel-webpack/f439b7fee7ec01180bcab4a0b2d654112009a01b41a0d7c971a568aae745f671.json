{"ast":null,"code":"import { Topic } from \"../../../model/Topic\";\nimport { Account } from \"../../../model/Account\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../service/topic-service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../jumpPage/jumpPage\";\nfunction AdminManageTopicView_div_1_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 15)(1, \"div\", 16);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 17);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 18);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 18);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 16)(10, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function AdminManageTopicView_div_1_div_15_Template_button_click_10_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r9);\n      const topic_r7 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.showTopicDetail(topic_r7));\n    });\n    i0.ɵɵtext(11, \"->\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const topic_r7 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(topic_r7.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(topic_r7.topic);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(topic_r7.createTime);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(topic_r7.updateTime);\n  }\n}\nfunction AdminManageTopicView_div_1_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 20)(1, \"label\")(2, \"b\");\n    i0.ɵɵtext(3, \"Topic\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(4, \"input\", 21);\n    i0.ɵɵelementStart(5, \"label\")(6, \"b\");\n    i0.ɵɵtext(7, \"Description\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"textarea\", 22);\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 23)(11, \"div\", 24)(12, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function AdminManageTopicView_div_1_div_17_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.showDeleteConfirm());\n    });\n    i0.ɵɵtext(13, \"Delete\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(14, \"div\", 24)(15, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function AdminManageTopicView_div_1_div_17_Template_button_click_15_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r12.updateTopic());\n    });\n    i0.ɵɵtext(16, \"Update\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵpropertyInterpolate(\"value\", ctx_r5.currentTopic.topic);\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(ctx_r5.currentTopic.description);\n  }\n}\nfunction AdminManageTopicView_div_1_div_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27)(1, \"h1\", 28);\n    i0.ɵɵtext(2, \"No Data\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdminManageTopicView_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 4)(2, \"div\", 5)(3, \"div\", 6)(4, \"div\", 7);\n    i0.ɵɵtext(5, \"id\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 8);\n    i0.ɵɵtext(7, \"Topic\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 9);\n    i0.ɵɵtext(9, \"Create Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 9);\n    i0.ɵɵtext(11, \"Update Time\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"div\", 7)(13, \"button\", 10);\n    i0.ɵɵlistener(\"click\", function AdminManageTopicView_div_1_Template_button_click_13_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.showAddTopic());\n    });\n    i0.ɵɵtext(14, \"+\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(15, AdminManageTopicView_div_1_div_15_Template, 12, 4, \"div\", 11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(16, \"div\", 12);\n    i0.ɵɵtemplate(17, AdminManageTopicView_div_1_div_17_Template, 17, 2, \"div\", 13);\n    i0.ɵɵtemplate(18, AdminManageTopicView_div_1_div_18_Template, 3, 0, \"div\", 14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(15);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.topicList);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentTopic.id > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.currentTopic.id <= 0);\n  }\n}\nfunction AdminManageTopicView_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 29)(2, \"div\", 3)(3, \"div\", 30)(4, \"button\", 31);\n    i0.ɵɵlistener(\"click\", function AdminManageTopicView_div_2_Template_button_click_4_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.closeAddTopic());\n    });\n    i0.ɵɵtext(5, \"Back\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 32)(7, \"h2\", 33);\n    i0.ɵɵtext(8, \"Add New Topic\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"div\", 34)(10, \"label\")(11, \"b\");\n    i0.ɵɵtext(12, \"Topic\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(13, \"input\", 35);\n    i0.ɵɵelementStart(14, \"label\")(15, \"b\");\n    i0.ɵɵtext(16, \"Description\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(17, \"textarea\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 23)(19, \"div\", 37)(20, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function AdminManageTopicView_div_2_Template_button_click_20_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.addNewTopic());\n    });\n    i0.ɵɵtext(21, \"Submit\");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\nfunction AdminManageTopicView_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"div\", 38)(2, \"div\", 39)(3, \"label\", 40)(4, \"b\");\n    i0.ɵɵtext(5, \"Are You Sure To Delete This Topic?\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(6, \"div\", 3)(7, \"div\", 24)(8, \"button\", 25);\n    i0.ɵɵlistener(\"click\", function AdminManageTopicView_div_3_Template_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r18.deleteTopic());\n    });\n    i0.ɵɵtext(9, \"Yes\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(10, \"div\", 24)(11, \"button\", 26);\n    i0.ɵɵlistener(\"click\", function AdminManageTopicView_div_3_Template_button_click_11_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.closeDeleteConfirm());\n    });\n    i0.ɵɵtext(12, \"No\");\n    i0.ɵɵelementEnd()()()()();\n  }\n}\nfunction AdminManageTopicView_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"app-jump-page\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"message\", ctx_r3.message)(\"error\", ctx_r3.error);\n  }\n}\nexport class AdminManageTopicView {\n  constructor(topicService) {\n    this.topicService = topicService;\n    this.user = new Account();\n    this.topicList = new Array();\n    this.currentTopic = new Topic();\n    this.message = '';\n    this.error = '';\n    this.showAddTopicView = false;\n    this.showDeleteConfirmView = false;\n    this.showMessageView = false;\n  }\n  ngOnInit() {\n    // @ts-ignore\n    this.user = JSON.parse(window.sessionStorage.getItem('MCQuser'));\n    this.topicService.getAllTopic().subscribe(data => {\n      this.topicList = data;\n    });\n  }\n  /****************************** ADD TOPIC *******************************/\n  showAddTopic() {\n    this.showAddTopicView = true;\n  }\n  closeAddTopic() {\n    this.showAddTopicView = false;\n    // @ts-ignore\n    document.getElementById(\"newTopic\").removeAttribute('style');\n    document.getElementById(\"newTopic\").value = '';\n    document.getElementById(\"newDescription\").value = '';\n  }\n  addNewTopic() {\n    // @ts-ignore\n    document.getElementById(\"newTopic\").removeAttribute('style');\n    let topic = new Topic();\n    topic.topic = document.getElementById(\"newTopic\").value;\n    if (topic.topic != '') {\n      topic.description = document.getElementById(\"newDescription\").value;\n      this.topicService.addNewTopic(topic).subscribe(data => {\n        console.log(data);\n        if (data == 'success') {\n          this.reLoadTopic();\n          this.showAddTopicView = false;\n          this.showMessageView = true;\n          this.jumpWindow(\"Create Topic Successful\", '');\n        } else {\n          this.showMessageView = true;\n          this.jumpWindow(\"Create Topic Failed\", data);\n        }\n      }, error => {\n        this.showMessageView = true;\n        this.jumpWindow(\"Create Topic Failed\", error.message);\n      });\n    } else {\n      // @ts-ignore\n      document.getElementById(\"newTopic\").style.borderColor = 'red';\n    }\n  }\n  /****************************** GET TOPIC ******************************/\n  reLoadTopic() {\n    this.topicService.getAllTopic().subscribe(data => {\n      this.topicList = data;\n    });\n  }\n  showTopicDetail(topic) {\n    if (this.currentTopic.id > 0) {\n      this.currentTopic = topic;\n      // @ts-ignore\n      document.getElementById(\"topic\").removeAttribute('style');\n      document.getElementById(\"description\").value = this.currentTopic.description;\n    } else {\n      this.currentTopic = topic;\n    }\n  }\n  /***************************** DELETE TOPIC *****************************/\n  showDeleteConfirm() {\n    this.showDeleteConfirmView = true;\n  }\n  closeDeleteConfirm() {\n    this.showDeleteConfirmView = false;\n  }\n  deleteTopic() {\n    this.topicService.deleteTopic(this.currentTopic.id).subscribe(data => {\n      this.showDeleteConfirmView = false;\n      if (data == 'success') {\n        this.reLoadTopic();\n        this.showMessageView = true;\n        this.jumpWindow(\"Delete Topic Successful\", '');\n      } else {\n        this.showMessageView = true;\n        this.jumpWindow(\"Delete Topic Failed\", data);\n      }\n    }, error => {\n      this.showMessageView = true;\n      this.jumpWindow(\"Delete Topic Failed\", error.message);\n    });\n  }\n  /***************************** UPDATE TOPIC *****************************/\n  updateTopic() {\n    console.log(\"update\");\n    // @ts-ignore\n    document.getElementById(\"topic\").removeAttribute('style');\n    this.currentTopic.topic = document.getElementById(\"topic\").value;\n    if (this.currentTopic.topic != '') {\n      this.currentTopic.description = document.getElementById(\"description\").value;\n      this.topicService.updateTopic(this.currentTopic).subscribe(data => {\n        console.log(data);\n        if (data == 'success') {\n          this.showMessageView = true;\n          this.jumpWindow(\"Update Topic Successful\", '');\n        } else {\n          this.showMessageView = true;\n          this.jumpWindow(\"Update Topic Failed\", data);\n        }\n      }, error => {\n        this.showMessageView = true;\n        this.jumpWindow(\"Delete Topic Failed\", error.message);\n      });\n    } else {\n      // @ts-ignore\n      document.getElementById(\"topic\").style.borderColor = 'red';\n    }\n  }\n  /***************************** Massage View *****************************/\n  jumpWindow(message, error) {\n    this.message = message;\n    this.error = error;\n    this.showMessageView = true;\n    setTimeout(() => {\n      this.showMessageView = false;\n    }, 5000);\n  }\n  static #_ = this.ɵfac = function AdminManageTopicView_Factory(t) {\n    return new (t || AdminManageTopicView)(i0.ɵɵdirectiveInject(i1.TopicService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminManageTopicView,\n    selectors: [[\"app-admin-manage-topic-view\"]],\n    decls: 5,\n    vars: 4,\n    consts: [[1, \"container\"], [\"class\", \"row\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"row\"], [1, \"col-8\"], [1, \"card\", \"container\", \"mt-2\", 2, \"width\", \"800px\", \"height\", \"440px\", \"overflow\", \"auto\"], [1, \"row\", \"bg-secondary-subtle\", 2, \"height\", \"32px\"], [1, \"h5\", \"col-1\", \"text-center\"], [1, \"h5\", \"col-4\", \"text-center\"], [1, \"h5\", \"col-3\", \"text-center\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", \"px-0\", \"mt-0\", 3, \"click\"], [\"class\", \"row border-bottom\", \"style\", \"height: 32px;\", 4, \"ngFor\", \"ngForOf\"], [1, \"col-4\"], [\"class\", \"modal-content container mt-5\", \"style\", \"width: 400px;min-height:300px\", 4, \"ngIf\"], [\"class\", \"modal-content container mt-5 text-center\", \"style\", \"width: 400px;height:300px\", 4, \"ngIf\"], [1, \"row\", \"border-bottom\", 2, \"height\", \"32px\"], [1, \"col-1\", \"text-center\"], [1, \"col-4\", \"text-center\"], [1, \"col-3\", \"text-center\"], [1, \"btn\", \"btn-sm\", \"btn-outline-primary\", \"px-0\", \"mt-0\", 3, \"click\"], [1, \"modal-content\", \"container\", \"mt-5\", 2, \"width\", \"400px\", \"min-height\", \"300px\"], [\"type\", \"text\", \"id\", \"topic\", \"required\", \"\", 3, \"value\"], [\"id\", \"description\"], [1, \"row\", \"justify-content-end\"], [1, \"col-6\"], [\"type\", \"button\", 2, \"background-color\", \"#C44336\", 3, \"click\"], [\"type\", \"button\", 3, \"click\"], [1, \"modal-content\", \"container\", \"mt-5\", \"text-center\", 2, \"width\", \"400px\", \"height\", \"300px\"], [1, \"text-secondary\", \"mt-5\"], [1, \"modal-content\", \"animate\", \"container\", \"mt-2\", 2, \"width\", \"600px\"], [1, \"col-2\", \"text-center\"], [3, \"click\"], [1, \"col-8\", \"text-center\"], [2, \"text-align\", \"center\", \"margin\", \"20px 0 5px\"], [1, \"row\", \"mt-4\"], [\"type\", \"text\", \"id\", \"newTopic\", \"value\", \"\", \"required\", \"\"], [\"id\", \"newDescription\", 2, \"height\", \"120px\"], [1, \"col-3\"], [1, \"modal-content\", \"container\", \"mt-2\", 2, \"width\", \"600px\"], [1, \"row\", \"text-center\", \"m-4\"], [1, \"h3\"], [3, \"message\", \"error\"]],\n    template: function AdminManageTopicView_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, AdminManageTopicView_div_1_Template, 19, 3, \"div\", 1);\n        i0.ɵɵtemplate(2, AdminManageTopicView_div_2_Template, 22, 0, \"div\", 1);\n        i0.ɵɵtemplate(3, AdminManageTopicView_div_3_Template, 13, 0, \"div\", 1);\n        i0.ɵɵtemplate(4, AdminManageTopicView_div_4_Template, 2, 2, \"div\", 2);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showAddTopicView == false && ctx.showDeleteConfirmView == false && ctx.showMessageView == false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showAddTopicView == true && ctx.showMessageView == false);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showDeleteConfirmView == true);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.showMessageView == true);\n      }\n    },\n    dependencies: [i2.NgForOf, i2.NgIf, i3.JumpPage],\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"AACA,SAAQA,KAAK,QAAO,sBAAsB;AAE1C,SAAQC,OAAO,QAAO,wBAAwB;;;;;;;;ICStCC,+BAAqF;IACpDA,YAAY;IAAAA,iBAAM;IACjDA,+BAA+B;IAAAA,YAAe;IAAAA,iBAAM;IACpDA,+BAA+B;IAAAA,YAAoB;IAAAA,iBAAM;IACzDA,+BAA+B;IAAAA,YAAoB;IAAAA,iBAAM;IACzDA,+BAA+B;IAAyDA;MAAA;MAAA;MAAA;MAAA,OAASA,+CAAsB;IAAA,EAAC;IAACA,mBAAE;IAAAA,iBAAS;;;;IAJrGA,eAAY;IAAZA,iCAAY;IACZA,eAAe;IAAfA,oCAAe;IACfA,eAAoB;IAApBA,yCAAoB;IACpBA,eAAoB;IAApBA,yCAAoB;;;;;;IAMvDA,+BAA4G;IAChGA,qBAAK;IAAAA,iBAAI;IACnBA,4BAAuE;IACvEA,6BAAO;IAAGA,2BAAW;IAAAA,iBAAI;IACzBA,oCAA2B;IAAAA,YAA4B;IAAAA,iBAAW;IAClEA,gCAAqC;IAEuBA;MAAAA;MAAA;MAAA,OAASA,0CAAmB;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;IAEvGA,gCAAmB;IACKA;MAAAA;MAAA;MAAA,OAASA,oCAAa;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;IARlCA,eAA8B;IAA9BA,4DAA8B;IAElCA,eAA4B;IAA5BA,qDAA4B;;;;;IAUzDA,+BAAqH;IACnFA,uBAAO;IAAAA,iBAAK;;;;;;IAnClDA,8BAAiH;IAIvEA,kBAAE;IAAAA,iBAAM;IAC1CA,8BAAkC;IAAAA,qBAAK;IAAAA,iBAAM;IAC7CA,8BAAkC;IAAAA,2BAAW;IAAAA,iBAAM;IACnDA,+BAAkC;IAAAA,4BAAW;IAAAA,iBAAM;IACnDA,+BAAkC;IAAiDA;MAAAA;MAAA;MAAA,OAASA,qCAAc;IAAA,EAAC;IAACA,kBAAC;IAAAA,iBAAS;IAExHA,+EAMM;IACRA,iBAAM;IAERA,gCAAmB;IACjBA,+EAaM;IACNA,8EAEM;IACRA,iBAAM;;;;IA3BqEA,gBAAY;IAAZA,0CAAY;IAUJA,eAAyB;IAAzBA,iDAAyB;IAcjBA,eAA0B;IAA1BA,kDAA0B;;;;;;IAMvHA,8BAA8E;IAI9DA;MAAAA;MAAA;MAAA,OAASA,sCAAe;IAAA,EAAC;IAACA,oBAAI;IAAAA,iBAAS;IAEjDA,+BAA+B;IACoBA,6BAAa;IAAAA,iBAAK;IAGvEA,+BAAsB;IACVA,sBAAK;IAAAA,iBAAI;IACnBA,6BAAmD;IAEnDA,8BAAO;IAAGA,4BAAW;IAAAA,iBAAI;IACzBA,gCAA+D;IACjEA,iBAAM;IAENA,gCAAqC;IAEXA;MAAAA;MAAA;MAAA,OAASA,oCAAa;IAAA,EAAC;IAACA,uBAAM;IAAAA,iBAAS;;;;;;IAMrEA,8BAAuD;IAG5BA,kDAAkC;IAAAA,iBAAI;IAE7DA,8BAAiB;IAE2CA;MAAAA;MAAA;MAAA,OAASA,oCAAa;IAAA,EAAC;IAACA,mBAAG;IAAAA,iBAAS;IAE9FA,gCAAmB;IACKA;MAAAA;MAAA;MAAA,OAASA,2CAAoB;IAAA,EAAC;IAACA,mBAAE;IAAAA,iBAAS;;;;;IAOxEA,2BAAqC;IACnCA,oCAAuE;IACzEA,iBAAM;;;;IADWA,eAAqB;IAArBA,wCAAqB;;;AD5ExC,OAAM,MAAOC,oBAAoB;EAY/BC,YAAoBC,YAAyB;IAAzB,iBAAY,GAAZA,YAAY;IAVhC,SAAI,GAAW,IAAIJ,OAAO,EAAE;IAC5B,cAAS,GAAW,IAAIK,KAAK,EAAE;IAC/B,iBAAY,GAAS,IAAIN,KAAK,EAAE;IAEhC,YAAO,GAAU,EAAE;IACnB,UAAK,GAAU,EAAE;IACjB,qBAAgB,GAAW,KAAK;IAChC,0BAAqB,GAAW,KAAK;IACrC,oBAAe,GAAW,KAAK;EAI/B;EACAO,QAAQ;IAEN;IACA,IAAI,CAACC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAEC,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,SAAS,CAAC,CAAE;IAClE,IAAI,CAACR,YAAY,CAACS,WAAW,EAAE,CAC5BC,SAAS,CACRC,IAAI,IAAG;MAAE,IAAI,CAACC,SAAS,GAAGD,IAAI;IAAA,CAAC,CAChC;EACL;EAEF;EACEE,YAAY;IAEV,IAAI,CAACC,gBAAgB,GAAG,IAAI;EAC9B;EAEAC,aAAa;IAEX,IAAI,CAACD,gBAAgB,GAAG,KAAK;IAC7B;IACAE,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAACC,eAAe,CAAC,OAAO,CAAC;IAC3DF,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAsB,CAACE,KAAK,GAAG,EAAE;IACnEH,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAyB,CAACE,KAAK,GAAG,EAAE;EAC/E;EAEAC,WAAW;IAET;IACAJ,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAACC,eAAe,CAAC,OAAO,CAAC;IAC5D,IAAIG,KAAK,GAAG,IAAI1B,KAAK,EAAE;IACvB0B,KAAK,CAACA,KAAK,GAAIL,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAsB,CAACE,KAAK;IAC7E,IAAGE,KAAK,CAACA,KAAK,IAAI,EAAE,EACpB;MACEA,KAAK,CAACC,WAAW,GAAIN,QAAQ,CAACC,cAAc,CAAC,gBAAgB,CAAyB,CAACE,KAAK;MAC5F,IAAI,CAACnB,YAAY,CAACoB,WAAW,CAACC,KAAK,CAAC,CACjCX,SAAS,CACRC,IAAI,IAAK;QAEPY,OAAO,CAACC,GAAG,CAACb,IAAI,CAAC;QACjB,IAAGA,IAAI,IAAI,SAAS,EACpB;UACE,IAAI,CAACc,WAAW,EAAE;UAClB,IAAI,CAACX,gBAAgB,GAAG,KAAK;UAC7B,IAAI,CAACY,eAAe,GAAG,IAAI;UAC3B,IAAI,CAACC,UAAU,CAAC,yBAAyB,EAAE,EAAE,CAAC;SAC/C,MAED;UACE,IAAI,CAACD,eAAe,GAAG,IAAI;UAC3B,IAAI,CAACC,UAAU,CAAC,qBAAqB,EAAEhB,IAAI,CAAC;;MAEhD,CAAC,EACDiB,KAAK,IAAG;QAEN,IAAI,CAACF,eAAe,GAAG,IAAI;QAC3B,IAAI,CAACC,UAAU,CAAC,qBAAqB,EAAEC,KAAK,CAACC,OAAO,CAAC;MACvD,CAAC,CAAC;KACP,MAED;MACE;MACAb,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAC,CAACa,KAAK,CAACC,WAAW,GAAG,KAAK;;EAEjE;EAEF;EAEEN,WAAW;IAET,IAAI,CAACzB,YAAY,CAACS,WAAW,EAAE,CAC5BC,SAAS,CACRC,IAAI,IAAG;MAAE,IAAI,CAACC,SAAS,GAAGD,IAAI;IAAA,CAAC,CAChC;EACL;EACAqB,eAAe,CAACX,KAAW;IAEzB,IAAG,IAAI,CAACY,YAAY,CAACC,EAAE,GAAG,CAAC,EAC3B;MACE,IAAI,CAACD,YAAY,GAAGZ,KAAK;MACzB;MACAL,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAACC,eAAe,CAAC,OAAO,CAAC;MACxDF,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAyB,CAACE,KAAK,GAAG,IAAI,CAACc,YAAY,CAACX,WAAW;KACtG,MAED;MACE,IAAI,CAACW,YAAY,GAAGZ,KAAK;;EAE7B;EAEF;EACEc,iBAAiB;IAEf,IAAI,CAACC,qBAAqB,GAAG,IAAI;EACnC;EAEAC,kBAAkB;IAEhB,IAAI,CAACD,qBAAqB,GAAG,KAAK;EACpC;EAEAE,WAAW;IAET,IAAI,CAACtC,YAAY,CAACsC,WAAW,CAAC,IAAI,CAACL,YAAY,CAACC,EAAE,CAAC,CAChDxB,SAAS,CACRC,IAAI,IAAK;MAEP,IAAI,CAACyB,qBAAqB,GAAG,KAAK;MAClC,IAAGzB,IAAI,IAAI,SAAS,EACpB;QACE,IAAI,CAACc,WAAW,EAAE;QAClB,IAAI,CAACC,eAAe,GAAG,IAAI;QAC3B,IAAI,CAACC,UAAU,CAAC,yBAAyB,EAAE,EAAE,CAAC;OAC/C,MAED;QACE,IAAI,CAACD,eAAe,GAAG,IAAI;QAC3B,IAAI,CAACC,UAAU,CAAC,qBAAqB,EAAEhB,IAAI,CAAC;;IAEhD,CAAC,EACDiB,KAAK,IAAG;MAEN,IAAI,CAACF,eAAe,GAAG,IAAI;MAC3B,IAAI,CAACC,UAAU,CAAC,qBAAqB,EAAEC,KAAK,CAACC,OAAO,CAAC;IACvD,CAAC,CACF;EACL;EAEF;EACEU,WAAW;IAEThB,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC;IACrB;IACAR,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAACC,eAAe,CAAC,OAAO,CAAC;IACzD,IAAI,CAACe,YAAY,CAACZ,KAAK,GAAIL,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAsB,CAACE,KAAK;IACtF,IAAG,IAAI,CAACc,YAAY,CAACZ,KAAK,IAAI,EAAE,EAChC;MACE,IAAI,CAACY,YAAY,CAACX,WAAW,GAAIN,QAAQ,CAACC,cAAc,CAAC,aAAa,CAAyB,CAACE,KAAK;MACrG,IAAI,CAACnB,YAAY,CAACuC,WAAW,CAAC,IAAI,CAACN,YAAY,CAAC,CAC7CvB,SAAS,CACRC,IAAI,IAAK;QAEPY,OAAO,CAACC,GAAG,CAACb,IAAI,CAAC;QACjB,IAAGA,IAAI,IAAI,SAAS,EACpB;UACE,IAAI,CAACe,eAAe,GAAG,IAAI;UAC3B,IAAI,CAACC,UAAU,CAAC,yBAAyB,EAAE,EAAE,CAAC;SAC/C,MAED;UACE,IAAI,CAACD,eAAe,GAAG,IAAI;UAC3B,IAAI,CAACC,UAAU,CAAC,qBAAqB,EAAEhB,IAAI,CAAC;;MAEhD,CAAC,EACDiB,KAAK,IAAG;QAEN,IAAI,CAACF,eAAe,GAAG,IAAI;QAC3B,IAAI,CAACC,UAAU,CAAC,qBAAqB,EAAEC,KAAK,CAACC,OAAO,CAAC;MACvD,CAAC,CACF;KACJ,MAED;MACE;MACAb,QAAQ,CAACC,cAAc,CAAC,OAAO,CAAC,CAACa,KAAK,CAACC,WAAW,GAAG,KAAK;;EAE9D;EAEF;EACEJ,UAAU,CAACE,OAAc,EAAED,KAAY;IAErC,IAAI,CAACC,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACD,KAAK,GAAGA,KAAK;IAClB,IAAI,CAACF,eAAe,GAAG,IAAI;IAC3Bc,UAAU,CAAC,MAAI;MAEb,IAAI,CAACd,eAAe,GAAG,KAAK;IAC9B,CAAC,EAAE,IAAI,CAAC;EACV;EAAC;qBAhMU5B,oBAAoB;EAAA;EAAA;UAApBA,oBAAoB;IAAA2C;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCVjChD,8BAAuB;QAErBA,sEAsCM;QAENA,sEAwBM;QAENA,sEAcM;QAGNA,qEAEM;QAERA,iBAAM;;;QAvFcA,eAA6F;QAA7FA,0HAA6F;QAwC7FA,eAA0D;QAA1DA,mFAA0D;QA0B1DA,eAAmC;QAAnCA,wDAAmC;QAiB/CA,eAA6B;QAA7BA,kDAA6B","names":["Topic","Account","i0","AdminManageTopicView","constructor","topicService","Array","ngOnInit","user","JSON","parse","window","sessionStorage","getItem","getAllTopic","subscribe","data","topicList","showAddTopic","showAddTopicView","closeAddTopic","document","getElementById","removeAttribute","value","addNewTopic","topic","description","console","log","reLoadTopic","showMessageView","jumpWindow","error","message","style","borderColor","showTopicDetail","currentTopic","id","showDeleteConfirm","showDeleteConfirmView","closeDeleteConfirm","deleteTopic","updateTopic","setTimeout","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/namcuong757/eclipse-workspace/CRM-Project/Frontend/src/app/view/admin/adminManageTopicView/adminManageTopicView.ts","/Users/namcuong757/eclipse-workspace/CRM-Project/Frontend/src/app/view/admin/adminManageTopicView/adminManageTopicView.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {Topic} from \"../../../model/Topic\";\nimport {TopicService} from \"../../../service/topic-service\";\nimport {Account} from \"../../../model/Account\";\n\n@Component({\n  selector: 'app-admin-manage-topic-view',\n  templateUrl: './adminManageTopicView.html',\n  styleUrls: ['./adminManageTopicView.css']\n})\nexport class AdminManageTopicView implements OnInit\n{\n  user:Account = new Account();\n  topicList:Topic[] = new Array();\n  currentTopic:Topic = new Topic();\n\n  message:string = '';\n  error:string = '';\n  showAddTopicView:boolean = false;\n  showDeleteConfirmView:boolean = false;\n  showMessageView:boolean = false;\n\n  constructor(private topicService:TopicService)\n  {\n  }\n  ngOnInit(): void\n  {\n    // @ts-ignore\n    this.user = JSON.parse( window.sessionStorage.getItem('MCQuser') );\n    this.topicService.getAllTopic()\n      .subscribe(\n        data => {this.topicList = data}\n      )\n  }\n\n/****************************** ADD TOPIC *******************************/\n  showAddTopic()\n  {\n    this.showAddTopicView = true;\n  }\n\n  closeAddTopic()\n  {\n    this.showAddTopicView = false;\n    // @ts-ignore\n    document.getElementById(\"newTopic\").removeAttribute('style');\n    (document.getElementById(\"newTopic\") as HTMLInputElement).value = '';\n    (document.getElementById(\"newDescription\") as HTMLTextAreaElement).value = '';\n  }\n\n  addNewTopic()\n  {\n    // @ts-ignore\n    document.getElementById(\"newTopic\").removeAttribute('style');\n    let topic = new Topic();\n    topic.topic = (document.getElementById(\"newTopic\") as HTMLInputElement).value;\n    if(topic.topic != '')\n    {\n      topic.description = (document.getElementById(\"newDescription\") as HTMLTextAreaElement).value;\n      this.topicService.addNewTopic(topic)\n        .subscribe(\n          data   =>\n          {\n            console.log(data)\n            if(data == 'success')\n            {\n              this.reLoadTopic();\n              this.showAddTopicView = false;\n              this.showMessageView = true;\n              this.jumpWindow(\"Create Topic Successful\", '');\n            }\n            else\n            {\n              this.showMessageView = true;\n              this.jumpWindow(\"Create Topic Failed\", data);\n            }\n          },\n          error =>\n          {\n            this.showMessageView = true;\n            this.jumpWindow(\"Create Topic Failed\", error.message);\n          });\n    }\n    else\n    {\n      // @ts-ignore\n      document.getElementById(\"newTopic\").style.borderColor = 'red'\n    }\n  }\n\n/****************************** GET TOPIC ******************************/\n\n  reLoadTopic()\n  {\n    this.topicService.getAllTopic()\n      .subscribe(\n        data => {this.topicList = data}\n      )\n  }\n  showTopicDetail(topic:Topic)\n  {\n    if(this.currentTopic.id > 0)\n    {\n      this.currentTopic = topic;\n      // @ts-ignore\n      document.getElementById(\"topic\").removeAttribute('style');\n      (document.getElementById(\"description\") as HTMLTextAreaElement).value = this.currentTopic.description;\n    }\n    else\n    {\n      this.currentTopic = topic;\n    }\n  }\n\n/***************************** DELETE TOPIC *****************************/\n  showDeleteConfirm()\n  {\n    this.showDeleteConfirmView = true;\n  }\n\n  closeDeleteConfirm()\n  {\n    this.showDeleteConfirmView = false;\n  }\n\n  deleteTopic()\n  {\n    this.topicService.deleteTopic(this.currentTopic.id)\n      .subscribe(\n        data   =>\n        {\n          this.showDeleteConfirmView = false;\n          if(data == 'success')\n          {\n            this.reLoadTopic();\n            this.showMessageView = true;\n            this.jumpWindow(\"Delete Topic Successful\", '');\n          }\n          else\n          {\n            this.showMessageView = true;\n            this.jumpWindow(\"Delete Topic Failed\", data);\n          }\n        },\n        error =>\n        {\n          this.showMessageView = true;\n          this.jumpWindow(\"Delete Topic Failed\", error.message);\n        }\n      )\n  }\n\n/***************************** UPDATE TOPIC *****************************/\n  updateTopic()\n  {\n    console.log(\"update\")\n    // @ts-ignore\n    document.getElementById(\"topic\").removeAttribute('style');\n    this.currentTopic.topic = (document.getElementById(\"topic\") as HTMLInputElement).value;\n    if(this.currentTopic.topic != '')\n    {\n      this.currentTopic.description = (document.getElementById(\"description\") as HTMLTextAreaElement).value;\n      this.topicService.updateTopic(this.currentTopic)\n        .subscribe(\n          data   =>\n          {\n            console.log(data)\n            if(data == 'success')\n            {\n              this.showMessageView = true;\n              this.jumpWindow(\"Update Topic Successful\", '');\n            }\n            else\n            {\n              this.showMessageView = true;\n              this.jumpWindow(\"Update Topic Failed\", data);\n            }\n          },\n          error =>\n          {\n            this.showMessageView = true;\n            this.jumpWindow(\"Delete Topic Failed\", error.message);\n          }\n        )\n    }\n    else\n    {\n      // @ts-ignore\n      document.getElementById(\"topic\").style.borderColor = 'red';\n    }\n  }\n\n/***************************** Massage View *****************************/\n  jumpWindow(message:string, error:string)\n  {\n    this.message = message;\n    this.error = error;\n    this.showMessageView = true;\n    setTimeout(()=>\n    {\n      this.showMessageView = false;\n    }, 5000);\n  }\n\n\n}\n","<div class=\"container\">\n\n  <div class=\"row\" *ngIf=\"showAddTopicView == false && showDeleteConfirmView == false && showMessageView == false\">\n    <div class=\"col-8\">\n      <div class=\" card container mt-2\" style=\"width: 800px; height: 440px; overflow: auto\">\n        <div class=\"row bg-secondary-subtle\" style=\"height: 32px;\">\n          <div class=\"h5 col-1 text-center\">id</div>\n          <div class=\"h5 col-4 text-center\">Topic</div>\n          <div class=\"h5 col-3 text-center\">Create Time</div>\n          <div class=\"h5 col-3 text-center\">Update Time</div>\n          <div class=\"h5 col-1 text-center\"><button class=\"btn btn-sm btn-primary px-0 mt-0\" (click)=\"showAddTopic()\">+</button></div>\n        </div>\n        <div class=\"row border-bottom\" style=\"height: 32px;\" *ngFor=\"let topic of topicList\">\n          <div class=\"col-1 text-center\">{{topic.id}}</div>\n          <div class=\"col-4 text-center\">{{topic.topic}}</div>\n          <div class=\"col-3 text-center\">{{topic.createTime}}</div>\n          <div class=\"col-3 text-center\">{{topic.updateTime}}</div>\n          <div class=\"col-1 text-center\"><button class=\"btn btn-sm btn-outline-primary px-0 mt-0\" (click)=\"showTopicDetail(topic)\">-></button></div>\n        </div>\n      </div>\n    </div>\n    <div class=\"col-4\">\n      <div class=\"modal-content container mt-5\" style=\"width: 400px;min-height:300px\" *ngIf=\"currentTopic.id > 0\">\n        <label><b>Topic</b></label>\n        <input type=\"text\"  id=\"topic\" value=\"{{currentTopic.topic}}\" required>\n        <label><b>Description</b></label>\n        <textarea id=\"description\">{{currentTopic.description}}</textarea>\n        <div class=\"row justify-content-end\">\n          <div class=\"col-6\">\n            <button type=\"button\" style=\"background-color: #C44336\" (click)=\"showDeleteConfirm()\">Delete</button>\n          </div>\n          <div class=\"col-6\">\n            <button type=\"button\" (click)=\"updateTopic()\">Update</button>\n          </div>\n        </div>\n      </div>\n      <div class=\"modal-content container mt-5 text-center\" style=\"width: 400px;height:300px\" *ngIf=\"currentTopic.id <= 0\">\n        <h1 class=\"text-secondary mt-5\">No Data</h1>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\" *ngIf=\"showAddTopicView == true && showMessageView == false\">\n    <div class=\"modal-content animate container mt-2\" style=\"width: 600px\">\n      <div class=\"row\">\n        <div class=\"col-2 text-center\">\n          <button (click)=\"closeAddTopic()\">Back</button>\n        </div>\n        <div class=\"col-8 text-center\">\n          <h2 style=\"text-align:center;margin:20px 0 5px;\">Add New Topic</h2>\n        </div>\n      </div>\n      <div class=\"row mt-4\">\n        <label><b>Topic</b></label>\n        <input type=\"text\" id=\"newTopic\" value=\"\" required>\n\n        <label><b>Description</b></label>\n        <textarea id=\"newDescription\" style=\"height:120px;\"></textarea>\n      </div>\n\n      <div class=\"row justify-content-end\">\n        <div class=\"col-3\">\n          <button type=\"button\" (click)=\"addNewTopic()\">Submit</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <div class=\"row\" *ngIf=\"showDeleteConfirmView == true\">\n    <div class=\"modal-content container mt-2\" style=\"width: 600px\">\n      <div class=\"row text-center m-4\">\n        <label class=\"h3\"><b>Are You Sure To Delete This Topic?</b></label>\n      </div>\n      <div class=\"row\">\n        <div class=\"col-6\">\n          <button type=\"button\" style=\"background-color: #C44336\" (click)=\"deleteTopic()\">Yes</button>\n        </div>\n        <div class=\"col-6\">\n          <button type=\"button\" (click)=\"closeDeleteConfirm()\">No</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n  <!-- Message View -->\n  <div *ngIf=\"showMessageView == true\">\n    <app-jump-page [message] = 'message' [error] = 'error'></app-jump-page>\n  </div>\n\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}