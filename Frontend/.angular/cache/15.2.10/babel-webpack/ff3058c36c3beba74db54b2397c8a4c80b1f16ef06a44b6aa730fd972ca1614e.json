{"ast":null,"code":"import { Account } from \"../../../model/Account\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../service/account-service\";\nexport class InitAccountView {\n  ngOnInit() {\n    // @ts-ignore\n    this.user = JSON.parse(window.sessionStorage.getItem('MCQuser'));\n    if (this.user == null) {\n      this.user = new Account();\n    }\n  }\n  constructor(accountService) {\n    this.accountService = accountService;\n    this.user = new Account();\n  }\n  submit() {\n    let userName = document.getElementById(\"userName\").value;\n    if (userName == '') {\n      // @ts-ignore\n      document.getElementById(\"message\").innerHTML = '<div class=\"text-bg-danger h6 m-2\">Please Enter A User Name</div>';\n    } else {\n      this.accountService.initAccount(this.user.id, userName).subscribe(data => {\n        console.log(data);\n        if (data == 'success') {\n          this.user.userName = userName;\n          window.sessionStorage.setItem(\"MCQuser\", JSON.stringify(this.user));\n          window.location.href = this.user.role + \"/dashboard\";\n        } else {\n          // @ts-ignore\n          document.getElementById(\"message\").innerHTML = '<div class=\"text-bg-danger h6 m-2\">' + data + '</div>';\n        }\n      }, error => {\n        // @ts-ignore\n        document.getElementById(\"message\").innerHTML = '<div class=\"text-bg-danger h6 m-2\">' + error + '</div>';\n      });\n    }\n  }\n  static #_ = this.ɵfac = function InitAccountView_Factory(t) {\n    return new (t || InitAccountView)(i0.ɵɵdirectiveInject(i1.AccountService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: InitAccountView,\n    selectors: [[\"app-init-account\"]],\n    decls: 15,\n    vars: 0,\n    consts: [[1, \"modal-content\", \"container\", \"mt-5\", \"pt-4\", 2, \"height\", \"360px\"], [2, \"text-align\", \"center\", \"margin\", \"20px 0 5px\"], [1, \"mt-4\"], [\"type\", \"text\", \"name\", \"userName\", \"id\", \"userName\", \"placeholder\", \"Enter Your Name\", \"required\", \"\"], [\"type\", \"button\", 3, \"click\"], [\"id\", \"message\", 1, \"m-3\", \"text-center\", \"h6\", \"text-secondary\"], [1, \"m-2\"]],\n    template: function InitAccountView_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n        i0.ɵɵtext(2, \"Enter Your Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"div\", 2)(4, \"label\")(5, \"b\");\n        i0.ɵɵtext(6, \"User Name\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(7, \"input\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"button\", 4);\n        i0.ɵɵlistener(\"click\", function InitAccountView_Template_button_click_8_listener() {\n          return ctx.submit();\n        });\n        i0.ɵɵtext(9, \"Submit\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"div\", 5)(11, \"div\", 6);\n        i0.ɵɵtext(12, \" Please setup your username. \");\n        i0.ɵɵelement(13, \"br\");\n        i0.ɵɵtext(14, \"Once you submit, you cannot change it anymore. \");\n        i0.ɵɵelementEnd()()();\n      }\n    },\n    styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"mappings":"AACA,SAAQA,OAAO,QAAO,wBAAwB;;;AAS9C,OAAM,MAAOC,eAAe;EAG1BC,QAAQ;IAEN;IACA,IAAI,CAACC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAAEC,MAAM,CAACC,cAAc,CAACC,OAAO,CAAC,SAAS,CAAC,CAAE;IAClE,IAAG,IAAI,CAACL,IAAI,IAAI,IAAI,EACpB;MACE,IAAI,CAACA,IAAI,GAAG,IAAIH,OAAO,EAAE;;EAE7B;EAEAS,YAAoBC,cAA6B;IAA7B,mBAAc,GAAdA,cAAc;IAXlC,SAAI,GAAW,IAAIV,OAAO,EAAE;EAa5B;EAEAW,MAAM;IAEJ,IAAIC,QAAQ,GAAIC,QAAQ,CAACC,cAAc,CAAC,UAAU,CAAsB,CAACC,KAAK;IAC9E,IAAGH,QAAQ,IAAI,EAAE,EACjB;MACE;MACAC,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACE,SAAS,GAAG,mEAAmE;KACnH,MAED;MACE,IAAI,CAACN,cAAc,CAACO,WAAW,CAAC,IAAI,CAACd,IAAI,CAACe,EAAE,EAAEN,QAAQ,CAAC,CACpDO,SAAS,CACRC,IAAI,IAAK;QAEPC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC;QACjB,IAAGA,IAAI,IAAI,SAAS,EACpB;UACE,IAAI,CAACjB,IAAI,CAACS,QAAQ,GAAGA,QAAQ;UAC7BN,MAAM,CAACC,cAAc,CAACgB,OAAO,CAAC,SAAS,EAAEnB,IAAI,CAACoB,SAAS,CAAC,IAAI,CAACrB,IAAI,CAAC,CAAC;UACnEG,MAAM,CAACmB,QAAQ,CAACC,IAAI,GAAG,IAAI,CAACvB,IAAI,CAACwB,IAAI,GAAG,YAAY;SACrD,MAED;UACE;UACAd,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACE,SAAS,GAAG,qCAAqC,GAAGI,IAAI,GAAG,QAAQ;;MAE1G,CAAC,EACDQ,KAAK,IAAG;QAEN;QACAf,QAAQ,CAACC,cAAc,CAAC,SAAS,CAAC,CAACE,SAAS,GAAG,qCAAqC,GAAGY,KAAK,GAAG,QAAQ;MACzG,CAAC,CAAC;;EAEV;EAAC;qBAlDU3B,eAAe;EAAA;EAAA;UAAfA,eAAe;IAAA4B;IAAAC;IAAAC;IAAAC;IAAAC;MAAA;QCV5BC,8BAAqE;QAClBA,+BAAe;QAAAA,iBAAK;QACrEA,8BAAkB;QACNA,yBAAS;QAAAA,iBAAI;QACvBA,2BAA6F;QAC/FA,iBAAM;QAENA,iCAAyC;QAAnBA;UAAA,OAASC,YAAQ;QAAA,EAAC;QAACD,sBAAM;QAAAA,iBAAS;QAExDA,+BAA4D;QAExDA,8CAA4B;QAAAA,sBAAI;QAAAA,gEAClC;QAAAA,iBAAM","names":["Account","InitAccountView","ngOnInit","user","JSON","parse","window","sessionStorage","getItem","constructor","accountService","submit","userName","document","getElementById","value","innerHTML","initAccount","id","subscribe","data","console","log","setItem","stringify","location","href","role","error","selectors","decls","vars","consts","template","i0","ctx"],"sourceRoot":"","sources":["/Users/namcuong757/eclipse-workspace/CRM-Project/Frontend/src/app/view/commonView/initAccountView/initAccountView.ts","/Users/namcuong757/eclipse-workspace/CRM-Project/Frontend/src/app/view/commonView/initAccountView/initAccountView.html"],"sourcesContent":["import {Component, OnInit} from '@angular/core';\nimport {Account} from \"../../../model/Account\";\nimport {AccountService} from \"../../../service/account-service\";\nimport {error} from \"@angular/compiler-cli/src/transformers/util\";\n\n@Component({\n  selector: 'app-init-account',\n  templateUrl: './initAccountView.html',\n  styleUrls: ['./initAccountView.css']\n})\nexport class InitAccountView implements OnInit\n{\n  user:Account = new Account();\n  ngOnInit(): void\n  {\n    // @ts-ignore\n    this.user = JSON.parse( window.sessionStorage.getItem('MCQuser') );\n    if(this.user == null)\n    {\n      this.user = new Account();\n    }\n  }\n\n  constructor(private accountService:AccountService)\n  {\n  }\n\n  submit()\n  {\n    let userName = (document.getElementById(\"userName\") as HTMLInputElement).value;\n    if(userName == '')\n    {\n      // @ts-ignore\n      document.getElementById(\"message\").innerHTML = '<div class=\"text-bg-danger h6 m-2\">Please Enter A User Name</div>';\n    }\n    else\n    {\n      this.accountService.initAccount(this.user.id, userName)\n        .subscribe(\n          data   =>\n          {\n            console.log(data)\n            if(data == 'success')\n            {\n              this.user.userName = userName;\n              window.sessionStorage.setItem(\"MCQuser\", JSON.stringify(this.user));\n              window.location.href = this.user.role + \"/dashboard\";\n            }\n            else\n            {\n              // @ts-ignore\n              document.getElementById(\"message\").innerHTML = '<div class=\"text-bg-danger h6 m-2\">' + data + '</div>';\n            }\n          },\n          error =>\n          {\n            // @ts-ignore\n            document.getElementById(\"message\").innerHTML = '<div class=\"text-bg-danger h6 m-2\">' + error + '</div>';\n          })\n    }\n  }\n}\n","<div class=\"modal-content container mt-5 pt-4\" style=\"height: 360px\">\n  <h2 style=\"text-align:center;margin:20px 0 5px;\">Enter Your Name</h2>\n  <div class=\"mt-4\">\n    <label><b>User Name</b></label>\n    <input type=\"text\" name=\"userName\" id=\"userName\"  placeholder=\"Enter Your Name\"     required>\n  </div>\n\n  <button type=\"button\" (click)=\"submit()\">Submit</button>\n\n  <div id='message' class='m-3 text-center h6 text-secondary'>\n    <div class=\"m-2\">\n      Please setup your username. <br>Once you submit, you cannot change it anymore.\n    </div>\n  </div>\n\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}